# Deno Deploy éƒ¨ç½²æŒ‡å—

## é—®é¢˜è¯´æ˜

ä½ çš„é¡¹ç›®åŸæœ¬ä½¿ç”¨ **Node.js + Express**ï¼Œä½† Deno Deploy åªæ”¯æŒ **Deno è¿è¡Œæ—¶**ã€‚

å½“å‰å·²å®ç° **ä¸¤ç§è§£å†³æ–¹æ¡ˆ**ï¼š

---

## âœ… æ–¹æ¡ˆ 1ï¼šä½¿ç”¨ Hash è·¯ç”±ï¼ˆå·²å®æ–½ï¼Œæ¨èå¿«é€Ÿéƒ¨ç½²ï¼‰

### ä¿®æ”¹å†…å®¹

- å°† Vue Router ä» `createWebHistory` æ”¹ä¸º `createWebHashHistory`
- URL æ ¼å¼å˜åŒ–ï¼š
  - é¦–é¡µï¼š`https://message-distribution.gigass.deno.net/`
  - ç®¡ç†é¡µï¼š`https://message-distribution.gigass.deno.net/#/admin` âš ï¸ æ³¨æ„ `#` ç¬¦å·

### ä¼˜ç‚¹

- âœ… æ— éœ€æœåŠ¡å™¨ç«¯è·¯ç”±æ”¯æŒ
- âœ… å¯ä»¥ç›´æ¥éƒ¨ç½² `dist` ç›®å½•åˆ°ä»»ä½•é™æ€æ‰˜ç®¡æœåŠ¡
- âœ… Deno Deployã€Vercelã€Netlifyã€GitHub Pages éƒ½æ”¯æŒ

### ç¼ºç‚¹

- âŒ URL ä¸­ä¼šæœ‰ `#` ç¬¦å·ï¼ˆä¸å¤Ÿç¾è§‚ï¼‰
- âŒ SEO ä¸å‹å¥½ï¼ˆä½†å¯¹äºå†…éƒ¨ç³»ç»Ÿå½±å“ä¸å¤§ï¼‰

### éƒ¨ç½²æ­¥éª¤

1. **æ„å»ºé¡¹ç›®**ï¼š

   ```bash
   npm run build
   ```

2. **éƒ¨ç½²åˆ° Deno Deploy**ï¼š

   - æ–¹å¼ Aï¼šé€šè¿‡ GitHub é›†æˆ

     - å°†ä»£ç æ¨é€åˆ° GitHub
     - åœ¨ Deno Deploy æ§åˆ¶å°é€‰æ‹© "Deploy from GitHub"
     - é€‰æ‹©ä»“åº“å’Œåˆ†æ”¯
     - **æ„å»ºå‘½ä»¤**ï¼š`npm run build`
     - **è¾“å‡ºç›®å½•**ï¼š`dist`
     - **å…¥å£æ–‡ä»¶**ï¼šç•™ç©ºï¼ˆé™æ€æ‰˜ç®¡ï¼‰

   - æ–¹å¼ Bï¼šæ‰‹åŠ¨ä¸Šä¼ 
     - åœ¨ Deno Deploy æ§åˆ¶å°åˆ›å»ºæ–°é¡¹ç›®
     - ä¸Šä¼  `dist` ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶

3. **è®¿é—®**ï¼š
   - é¦–é¡µï¼š`https://your-project.deno.dev/`
   - ç®¡ç†é¡µï¼š`https://your-project.deno.dev/#/admin`

---

## ğŸš€ æ–¹æ¡ˆ 2ï¼šä½¿ç”¨ Deno åŸç”ŸæœåŠ¡å™¨ï¼ˆéœ€è¦é¢å¤–é…ç½®ï¼‰

### æ–‡ä»¶è¯´æ˜

å·²åˆ›å»º `main.ts` ä½œä¸º Deno Deploy çš„å…¥å£æ–‡ä»¶ã€‚

### å½“å‰é™åˆ¶

- âš ï¸ Excel è§£æåŠŸèƒ½éœ€è¦ä½¿ç”¨ Deno å…¼å®¹çš„åº“ï¼ˆNode.js çš„ `xlsx` åŒ…ä¸å…¼å®¹ï¼‰
- âš ï¸ éœ€è¦æ‰¾åˆ°æˆ–å®ç° Deno ç‰ˆæœ¬çš„ Excel è§£æåº“

### å¦‚æœè¦ä½¿ç”¨æ­¤æ–¹æ¡ˆ

1. **å®‰è£… Deno å…¼å®¹çš„ Excel åº“**ï¼ˆéœ€è¦ç ”ç©¶ï¼‰ï¼š
   å¯èƒ½çš„é€‰é¡¹ï¼š

   - https://deno.land/x/sheetjs
   - æˆ–è€…ä½¿ç”¨ npm: æ¨¡å—ï¼ˆDeno æ”¯æŒéƒ¨åˆ† npm åŒ…ï¼‰

2. **ä¿®æ”¹ `main.ts`** ä¸­çš„ `parseExcelBuffer` å‡½æ•°

3. **éƒ¨ç½²é…ç½®**ï¼š

   - **å…¥å£æ–‡ä»¶**ï¼š`main.ts`
   - **æ„å»ºå‘½ä»¤**ï¼š`npm run build`ï¼ˆå…ˆæ„å»ºå‰ç«¯ï¼‰
   - **ç¯å¢ƒå˜é‡**ï¼š
     - `ADMIN_PASSWORD=ä½ çš„å¯†ç `ï¼ˆå•å£ä»¤ï¼‰
     - `TOKENS_JSON={"tokens":[{"id":"default","password":"MEILIN1!","label":"é»˜è®¤","shareCode":"bdc2f0"}]}`ï¼ˆå¤šå£ä»¤ + æŸ¥è¯¢é¡µåˆ†äº«ç ï¼‰

4. **ä¼˜ç‚¹**ï¼š
   - âœ… ä¿æŒ History è·¯ç”±ï¼ˆURL æ›´ç¾è§‚ï¼‰
   - âœ… å®Œæ•´çš„åç«¯åŠŸèƒ½

---

## ğŸ“Š ä¸¤ç§æ–¹æ¡ˆå¯¹æ¯”

| ç‰¹æ€§       | Hash è·¯ç”±ï¼ˆæ–¹æ¡ˆ 1ï¼‰ | Deno æœåŠ¡å™¨ï¼ˆæ–¹æ¡ˆ 2ï¼‰ |
| ---------- | ------------------- | --------------------- |
| éƒ¨ç½²éš¾åº¦   | â­ ç®€å•             | â­â­â­ å¤æ‚           |
| URL ç¾è§‚åº¦ | âŒ æœ‰ # ç¬¦å·        | âœ… å¹²å‡€çš„ URL         |
| Excel ä¸Šä¼  | âœ… éœ€è¦åç«¯ API     | âœ… å®Œæ•´æ”¯æŒ           |
| ç»´æŠ¤æˆæœ¬   | â­ ä½               | â­â­â­ é«˜             |
| å½“å‰çŠ¶æ€   | âœ… å·²å®æ–½           | âš ï¸ éœ€è¦é¢å¤–å¼€å‘       |

---

## ğŸ¯ æ¨èæ–¹æ¡ˆ

### å¯¹äºå½“å‰é¡¹ç›®ï¼š**ä½¿ç”¨æ–¹æ¡ˆ 1ï¼ˆHash è·¯ç”±ï¼‰**

ç†ç”±ï¼š

1. è¿™æ˜¯ä¸€ä¸ªå†…éƒ¨ç³»ç»Ÿï¼ŒURL ç¾è§‚åº¦ä¸æ˜¯å…³é”®
2. éƒ¨ç½²ç®€å•ï¼Œç»´æŠ¤æˆæœ¬ä½
3. ç«‹å³å¯ç”¨ï¼Œæ— éœ€é¢å¤–å¼€å‘

### è®¿é—®æ–¹å¼å˜åŒ–

**ä¹‹å‰ï¼ˆæœ¬åœ°ï¼‰**ï¼š

- ç®¡ç†é¡µï¼š`http://localhost:3000/admin`

**ç°åœ¨ï¼ˆDeno Deployï¼‰**ï¼š

- ç®¡ç†é¡µï¼š`https://message-distribution.gigass.deno.net/#/admin`

åªéœ€è¦åœ¨ URL ä¸­åŠ å…¥ `#` ç¬¦å·å³å¯ï¼

---

## ğŸ”„ å¦‚ä½•åˆ‡æ¢å› History è·¯ç”±

å¦‚æœå°†æ¥è¿ç§»åˆ°æ”¯æŒ Node.js çš„å¹³å°ï¼ˆå¦‚ Herokuã€Railwayã€Renderï¼‰ï¼Œåªéœ€ï¼š

1. ä¿®æ”¹ `src/router.js`ï¼š

   ```javascript
   // æ”¹å›
   import { createRouter, createWebHistory } from "vue-router";

   const router = createRouter({
     history: createWebHistory(), // æ”¹å›è¿™é‡Œ
     routes,
   });
   ```

2. é‡æ–°æ„å»ºï¼š

   ```bash
   npm run build
   ```

3. éƒ¨ç½²æ—¶ä½¿ç”¨ `node server.js` å¯åŠ¨

---

## ğŸ“ å½“å‰éƒ¨ç½²çŠ¶æ€

- âœ… å·²ä¿®æ”¹ä¸º Hash è·¯ç”±æ¨¡å¼
- âœ… å·²é‡æ–°æ„å»º `dist` ç›®å½•
- âœ… å¯ä»¥ç›´æ¥éƒ¨ç½²åˆ° Deno Deploy

**ä¸‹ä¸€æ­¥**ï¼šå°†æœ€æ–°çš„ `dist` ç›®å½•éƒ¨ç½²åˆ° Deno Deploy å³å¯è§£å†³ `/admin` è®¿é—®é—®é¢˜ï¼
